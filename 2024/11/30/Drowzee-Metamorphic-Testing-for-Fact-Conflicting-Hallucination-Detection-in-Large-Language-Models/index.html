<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>Drowzee Metamorphic Testing for Fact-Conflicting Hallucination Detection in Large Language Models | LinLi's Blog</title><meta name="author" content="Lin Li"><meta name="copyright" content="Lin Li"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Drowzee: Metamorphic Testing for Fact-Conflicting Hallucination Detection in Large Language ModelsABSTRACT大型语言模型（LLMs）已在语言处理领域引发了革命，但它们面临着安全性、隐私以及生成幻觉（即看似合理但事实上不准确的输出）等关键挑战。一个主要问题是事实冲突幻觉（FCH），即LLM生成的内">
<meta property="og:type" content="article">
<meta property="og:title" content="Drowzee Metamorphic Testing for Fact-Conflicting Hallucination Detection in Large Language Models">
<meta property="og:url" content="http://example.com/2024/11/30/Drowzee-Metamorphic-Testing-for-Fact-Conflicting-Hallucination-Detection-in-Large-Language-Models/index.html">
<meta property="og:site_name" content="LinLi&#39;s Blog">
<meta property="og:description" content="Drowzee: Metamorphic Testing for Fact-Conflicting Hallucination Detection in Large Language ModelsABSTRACT大型语言模型（LLMs）已在语言处理领域引发了革命，但它们面临着安全性、隐私以及生成幻觉（即看似合理但事实上不准确的输出）等关键挑战。一个主要问题是事实冲突幻觉（FCH），即LLM生成的内">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png">
<meta property="article:published_time" content="2024-11-30T08:49:19.000Z">
<meta property="article:modified_time" content="2024-11-30T08:50:05.528Z">
<meta property="article:author" content="Lin Li">
<meta property="article:tag" content="论文阅读">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2024/11/30/Drowzee-Metamorphic-Testing-for-Fact-Conflicting-Hallucination-Detection-in-Large-Language-Models/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Drowzee Metamorphic Testing for Fact-Conflicting Hallucination Detection in Large Language Models',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-11-30 16:50:05'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">114</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">6</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr/></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="LinLi's Blog"><span class="site-name">LinLi's Blog</span></a></span><div id="menus"><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Drowzee Metamorphic Testing for Fact-Conflicting Hallucination Detection in Large Language Models</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-11-30T08:49:19.000Z" title="发表于 2024-11-30 16:49:19">2024-11-30</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-11-30T08:50:05.528Z" title="更新于 2024-11-30 16:50:05">2024-11-30</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Drowzee Metamorphic Testing for Fact-Conflicting Hallucination Detection in Large Language Models"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="Drowzee-Metamorphic-Testing-for-Fact-Conflicting-Hallucination-Detection-in-Large-Language-Models"><a href="#Drowzee-Metamorphic-Testing-for-Fact-Conflicting-Hallucination-Detection-in-Large-Language-Models" class="headerlink" title="Drowzee: Metamorphic Testing for Fact-Conflicting Hallucination Detection in Large Language Models"></a><strong>Drowzee: Metamorphic Testing for Fact-Conflicting Hallucination Detection in Large Language Models</strong></h1><h2 id="ABSTRACT"><a href="#ABSTRACT" class="headerlink" title="ABSTRACT"></a>ABSTRACT</h2><p>大型语言模型（LLMs）已在语言处理领域引发了革命，但它们面临着安全性、隐私以及生成幻觉（即看似合理但事实上不准确的输出）等关键挑战。一个主要问题是事实冲突幻觉（FCH），即LLM生成的内容与事实真相相矛盾。解决FCH问题非常困难，主要面临两个挑战：1）自动构建和更新基准数据集较为复杂，因为现有方法依赖于人工整理的静态基准数据集，无法涵盖FCH案例的广泛、不断发展的范围；2）验证LLM输出背后的推理过程本身具有挑战性，尤其是对于复杂的逻辑关系。</p>
<p>为了解决这些问题，我们提出了一种新颖的逻辑编程辅助变形测试技术，用于FCH检测。我们开发了一个全面且可扩展的框架，通过爬取像维基百科这样的资源，构建一个全面的事实知识库，并将其无缝集成到Drowzee中。通过逻辑推理规则，我们将这些知识转化并增强为大量具有事实真相答案的测试案例。我们通过基于模板的提示对LLM进行测试，要求它们提供有理有据的答案。为了验证其推理过程，我们提出了两种语义感知的预言机，评估LLM回答与事实真相之间语义结构的相似度。我们的方法可以自动生成有用的测试案例，并在九个领域内对六个LLM进行幻觉检测，发现幻觉率从24.7%到59.8%不等。主要发现包括LLM在处理时间概念、分布外知识和缺乏逻辑推理能力方面的困难。结果表明，Drowzee生成的基于逻辑的测试案例能够有效触发并检测幻觉。为了进一步减少已识别的FCH，我们探索了模型编辑技术，发现它在小规模上（对不到1000个知识点的编辑）是有效的。我们的研究结果强调了持续进行社区合作以检测和缓解模型幻觉的重要性。</p>
<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a><strong>Introduction</strong></h2><p><font color="red">Background</font></p>
<ol>
<li><strong>LLMs的优势与应用</strong>：<ul>
<li>LLMs在语言处理和理解方面取得了显著进展，具备强大的文本生成和理解能力。</li>
<li>它们在多个领域（如文本生成、问题解决等）具有广泛的应用。</li>
</ul>
</li>
<li><strong>LLMs面临的关键挑战</strong>：<ul>
<li>LLMs在安全性和隐私方面存在重大问题，影响其有效性和可靠性。</li>
<li>幻觉（Hallucination）现象是其中的一个主要问题。</li>
</ul>
</li>
<li><strong>幻觉的定义与表现</strong>：<ul>
<li>幻觉指的是LLMs生成连贯但事实不准确或不相关的内容。</li>
<li>特别关注“事实冲突幻觉（FCH）”类型。<ul>
<li>FCH表现为LLM生成与已知事实直接矛盾的内容。</li>
</ul>
</li>
</ul>
</li>
<li><strong>FCH的例子</strong>：<ul>
<li>例如，LLM错误地认为“村上春树在2016年获得诺贝尔文学奖”，而实际事实是“村上春树并未获得诺贝尔文学奖”。</li>
<li>这种错误信息传播会导致用户困惑。</li>
</ul>
</li>
<li><strong>影响与风险</strong>：<ul>
<li>幻觉现象削弱了LLM应用中的<strong>信任性和可靠性</strong>，对用户造成误导，尤其在需要准确事实的场景中尤为严重。</li>
</ul>
</li>
</ol>
<p><img src="/2024/11/30/Drowzee-Metamorphic-Testing-for-Fact-Conflicting-Hallucination-Detection-in-Large-Language-Models/image-20241130114910337.png" alt="image-20241130114910337"></p>
<p><font color="red">Existing works</font></p>
<ol>
<li><strong>现有检测和测试方法</strong>：<ul>
<li>许多研究引入了用于检测幻觉的方法，其中一种常见的方式是创建专门的基准数据集。</li>
<li>代表性数据集包括<strong>TruthfulQA</strong>、<strong>HaluEval</strong> 和 <strong>KoLA</strong>，这些数据集旨在评估不同上下文中的幻觉现象，如问答、摘要生成和知识图谱。</li>
</ul>
</li>
<li><strong>现有方法的局限性</strong>：<ul>
<li>目前的幻觉检测方法依赖于<strong>简单的半自动方法</strong>，如字符串匹配、手动验证或使用另一种LLM进行确认。</li>
<li>这些方法虽然有一定价值，但存在明显的局限性，尤其是在自动有效地测试事实冲突幻觉（FCH）方面。</li>
</ul>
</li>
<li><strong>FCH检测的挑战</strong>：<ul>
<li><strong>FCH（事实冲突幻觉）</strong>的检测特别具有挑战性，因为它需要将LLM生成的内容与外部知识源或数据库的事实进行核对。</li>
<li>与其他类型的幻觉（如输入冲突幻觉或上下文冲突幻觉）不同，FCH无法仅通过语义一致性检查来检测。</li>
</ul>
</li>
<li><strong>缺乏专用测试框架和数据集</strong>：<ul>
<li>缺乏专门的<strong>地面真实数据集</strong>和<strong>测试框架</strong>是FCH检测的主要障碍。</li>
<li>这使得FCH的检测过程变得特别困难和资源密集，尤其是在需要处理包含逻辑关系的内容时。</li>
</ul>
</li>
</ol>
<p><font color="red">Challenges</font></p>
<ol>
<li><strong>挑战1：自动构建和更新基准数据集的困难</strong>：<ul>
<li>现有方法主要依赖人工整理的基准数据集，虽然能检测部分幻觉，但无法涵盖LLM中广泛且动态的事实冲突场景。</li>
<li>知识的不断更新需要频繁更新数据集，这增加了显著的维护成本。</li>
<li>依赖基准数据集限制了检测技术的适应性、可扩展性以及检测能力。</li>
</ul>
</li>
<li><strong>挑战2：自动验证LLM输出答案的困难</strong>：<ul>
<li>即使LLM输出正确答案，推理过程可能并不真实，掩盖了错误理解，这会引发事实冲突幻觉（FCH）。</li>
<li>自动验证复杂逻辑关系中的推理过程本身具有挑战性。</li>
<li>人类专家在创建基准问题时的经验和技能水平差异会导致问题质量不一致，引入噪声，特别是在数据标注和结果验证阶段。</li>
</ul>
</li>
</ol>
<p><strong>总结</strong>： 现有的FCH检测方法面临基准数据集局限性和推理过程验证的双重挑战，这需要进一步探索解决方案以提升LLM的可靠性。</p>
<p><font color="red">Our approach</font></p>
<p>为了解决现有技术的局限性，本文首次提出了一种基于逻辑编程辅助的变形测试技术，用于LLM中的幻觉检测。具体来说，<strong>Drowzee</strong> 是我们提出的FCH（事实冲突幻觉）测试框架，结合了事实知识推理和变形测试。</p>
<ol>
<li><strong>建立知识库</strong>：<ul>
<li>Drowzee首先通过广泛抓取Wikipedia等可访问的知识库，建立一个全面的事实知识库。</li>
<li>知识库中的每个知识条目作为后续转换的“种子”，通过逻辑推理关系对这些种子进行转化和扩展。</li>
</ul>
</li>
<li><strong>生成测试用例</strong>：<ul>
<li>通过转换后的知识集，生成一组问题-答案对，并将其作为测试用例和真值。</li>
<li>使用模板化提示来测试LLM的FCH，要求LLM生成对测试用例的回答。</li>
</ul>
</li>
<li><strong>推理验证与FCH检测</strong>：<ul>
<li>为了验证LLM推理过程的合理性，要求LLM提供详细的推理解释。</li>
<li>引入两种语义感知的变形预言机，通过提取句子中的语义元素并映射其逻辑关系，评估LLM答案与真值的语义相似性。</li>
<li>通过检测与真值显著偏离的答案来有效识别FCH。</li>
</ul>
</li>
</ol>
<p><strong>总结</strong>： Drowzee框架结合了知识推理和变形测试，通过自动化的逻辑推理验证和语义相似性分析，有效地检测和识别LLM中的事实冲突幻觉。</p>
<p><font color="red"><strong>Results and Findings.</strong></font></p>
<ol>
<li><strong>实验设计与方法</strong>：<ul>
<li><strong>广泛评估</strong>：Drowzee框架在多个领域和广泛的Wikipedia文章中进行测试，涵盖了不同主题。</li>
<li><strong>多模型评估</strong>：对多个开源和商业化的LLM进行了评估，全面检查其在不同架构下的适用性和表现。</li>
</ul>
</li>
<li><strong>主要发现</strong>：<ul>
<li><strong>FCH检测</strong>：Drowzee能够自动生成有效的测试用例，并识别六个LLM在九个领域中的幻觉问题。</li>
<li><strong>幻觉发生率</strong>：不同LLM的幻觉响应率在24.7%到59.8%之间。</li>
<li><strong>幻觉类型</strong>：幻觉响应被分为四种类型，分析表明，<font color="green">缺乏逻辑推理能力是FCH问题的主要原因。</font></li>
<li><strong>特殊易发领域</strong>：LLMs在涉及时间概念和超出训练知识的测试用例中尤其容易生成幻觉。</li>
</ul>
</li>
<li><strong>测试用例的有效性</strong>：<ul>
<li>使用逻辑推理规则生成的测试用例有效地触发并检测了LLM中的幻觉问题。</li>
</ul>
</li>
<li><strong>缓解措施</strong>：<ul>
<li><font color="green">通过模型编辑技术（例如hiyouga和Meng等人提出的方法）对识别出的FCH进行修正，初步结果表明，当编辑知识小于1000条时，取得了良好的效果。</font></li>
</ul>
</li>
</ol>
<p><font color="red">Contributions</font></p>
<ol>
<li><strong>FCH测试框架的开发</strong>：<ul>
<li>提出了基于逻辑编程和变换测试的全新FCH检测框架，首次实现了自动化检测LLM中的事实冲突幻觉（FCH）问题。</li>
</ul>
</li>
<li><strong>构建和发布大规模事实知识库与基准数据集</strong>：<ul>
<li>构建了一个大规模的基准数据集，并公开发布，以促进协作和未来FCH检测技术的发展。</li>
</ul>
</li>
<li><strong>创新的基于逻辑推理的数据变异方法设计与实现</strong>：<ul>
<li>提出了五种独特的逻辑推理规则，通过变异和增强初始种子，增加测试场景的多样性和有效性。</li>
</ul>
</li>
<li><strong>FCH特定的语义感知测试神谕的部署</strong>：<ul>
<li>提出了并实现了两种自动验证机制（神谕），通过分析句子间的语义结构相似性，验证LLM生成答案背后的推理逻辑，可靠地检测FCH的发生。</li>
</ul>
</li>
</ol>
<h2 id="Background"><a href="#Background" class="headerlink" title="Background"></a><strong>Background</strong></h2><h3 id="2-1-Hallucination-Categorization"><a href="#2-1-Hallucination-Categorization" class="headerlink" title="2.1 Hallucination Categorization"></a><strong>2.1 Hallucination Categorization</strong></h3><ol>
<li>**输入冲突幻觉 (Input-Conflicting Hallucination)**：<ul>
<li>发生在LLM生成的输出与用户输入不一致时。具体表现为：<ul>
<li>模型的回答与任务指令相矛盾（表示模型未理解用户意图）。</li>
<li>生成的内容与任务输入矛盾（类似于机器翻译或摘要中的常见问题）。</li>
</ul>
</li>
<li>例子：LLM在摘要中替换了关键信息或细节，偏离了用户提供的实际内容。</li>
</ul>
</li>
<li>**上下文冲突幻觉 (Context-Conflicting Hallucination)**：<ul>
<li>发生在LLM的长篇或多轮回应中，模型无法保持一致性或跟踪上下文。</li>
<li>原因通常是模型的长期记忆能力有限，无法识别相关上下文。</li>
<li>例子：LLM在讨论某个话题时，错误地在两个不同的人物之间切换引用。</li>
</ul>
</li>
<li>**事实冲突幻觉 (Fact-Conflicting Hallucination)**：<ul>
<li>本文的核心关注点，发生在LLM生成的内容与已知事实直接冲突时。</li>
<li>这种幻觉可能源于LLM生命周期中不同阶段的多种因素。</li>
<li>例子：LLM在回应历史问题时提供错误的历史信息，误导不熟悉该主题的用户。</li>
</ul>
</li>
</ol>
<h3 id="2-2-Logic-Programming"><a href="#2-2-Logic-Programming" class="headerlink" title="2.2 Logic Programming"></a><strong>2.2 Logic Programming</strong></h3><ol>
<li><strong>逻辑编程简介</strong>：<ul>
<li>逻辑编程语言是声明式的，通过描述世界来编程，使用这些程序就是向已描述的世界提问。</li>
<li>逻辑编程可以帮助自动推理新事实，基于事实和规则得出答案。</li>
</ul>
</li>
<li><strong>Prolog程序结构</strong>：<ul>
<li>程序由事实和规则组成：<ul>
<li>事实：定义一个关系为真，表示为“谓词(实体)”。<ul>
<li>示例：<code>bigger(horse, cat)</code>表示马比猫大。</li>
</ul>
</li>
<li>规则：包含头部谓词和多个谓词作为条件，表示逻辑推导的关系。<ul>
<li>示例：<code>bigger(X, Z) :- bigger(X, Y), bigger(Y, Z)</code>表示“bigger”关系是传递的。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><strong>查询与推理</strong>：<ul>
<li>查询结构与规则的条件部分相同，由谓词组成，并在事实数据库中执行。</li>
<li>查询返回<code>Yes</code>如果该条件在事实和规则的基础上为真，否则返回<code>No</code>。</li>
<li>示例：查询<code>?- bigger(elephant, cat)</code>，询问“是否大象比猫大？”</li>
</ul>
</li>
<li><strong>推理规则</strong>：<ul>
<li>推理规则描述了如何通过事实和规则（谓词）推导出新事实（谓词）。推理过程省略了查询和结果分析部分。</li>
<li>示例：<code>R1, R2, ... -&gt; Rnew</code>表示从事实R1、R2等推导出新事实Rnew。</li>
</ul>
</li>
</ol>
<p>该方法通过逻辑推理，能够为LLM的幻觉检测提供自动化的测试机制，利用事实和推理规则推导出新知识并验证LLM的输出是否符合事实。</p>
<p><img src="/2024/11/30/Drowzee-Metamorphic-Testing-for-Fact-Conflicting-Hallucination-Detection-in-Large-Language-Models/image-20241130121524960.png" alt="image-20241130121524960"></p>
<h2 id="Motivating-Example"><a href="#Motivating-Example" class="headerlink" title="Motivating Example"></a><strong>Motivating Example</strong></h2><p><img src="/2024/11/30/Drowzee-Metamorphic-Testing-for-Fact-Conflicting-Hallucination-Detection-in-Large-Language-Models/image-20241130121605973.png" alt="image-20241130121605973"></p>
<ol>
<li><strong>现有手动生成基准的局限性</strong>：<ul>
<li>依赖人类专家生成问题和标注答案的方法存在以下问题：<ul>
<li><strong>动态知识挑战</strong>：知识随时间变化（如村上春树未来获诺奖），需要定期更新和修正基准数据集。</li>
<li><strong>高人工成本</strong>：维护基准数据的准确性需要大量人工劳动。</li>
<li><strong>问题质量不一致</strong>：人类专家经验和技能差异可能导致生成的问题质量参差不齐。</li>
</ul>
</li>
<li>这些问题影响了手动基准的效率和可靠性。</li>
</ul>
</li>
<li><strong>自动生成多样化基准的挑战</strong>：<ul>
<li>挑战1：生成适当且有效的问题：<ul>
<li>测试基准中的问题需要逻辑一致并符合事实知识，不能随机生成。</li>
</ul>
</li>
<li>挑战2：生成检测幻觉的测试预言机：<ul>
<li>判断LLM是否存在事实冲突幻觉（FCH）的关键是分析其答案的逻辑推理是否与事实一致。</li>
<li>自动比较LLM复杂答案与事实真相之间的逻辑结构是一个难点。</li>
</ul>
</li>
</ul>
</li>
</ol>
<p><strong>逻辑编程的解决方案</strong>：</p>
<ol>
<li><strong>多样化问题生成</strong>：<ul>
<li>通过逻辑编程，基于现有知识推导出新的逻辑一致的事实。</li>
<li>使用这些新事实生成多样化的问题及其对应的真值答案。</li>
</ul>
</li>
<li><strong>测试预言机生成</strong>：<ul>
<li>基于生成的真值答案，创建测试预言机，捕获LLM的幻觉问题。</li>
</ul>
</li>
</ol>
<h2 id="Methodology"><a href="#Methodology" class="headerlink" title="Methodology"></a><strong>Methodology</strong></h2><p>Drowzee 是为了解决上述挑战而设计和实现的，整个工作流程可以分为四个模块，具体包括：</p>
<ol>
<li><strong>事实知识提取（§4.1）</strong>：Drowzee 从大量的知识数据库中获取基本信息和有效实体的事实三元组。</li>
<li><strong>逻辑推理（§4.2）</strong>：在此模块中，Drowzee 运用推理规则生成合理且多样化的新事实，作为新的“地面真相”知识。</li>
<li><strong>基准构建（§4.3）</strong>：该模块的重点是基于新生成的地面真相知识，创建高质量的测试用例-预期答案对。测试预期答案（oracle）通过简单而有效的变形关系生成：符合知识的提问应回答“是”，与知识相违背的提问应回答“否”。该模块还包括有效地生成和选择与大语言模型（LLM）互动的提示策略。</li>
<li><strong>响应评估（§4.4）</strong>：最终模块对 LLM 的响应进行评估，并自动检测事实一致性。它首先通过自然语言处理（NLP）解析 LLM 的输出，构建语义感知结构，然后评估其与地面真相的语义相似性。随后，它使用基于相似度的预期答案，通过变形测试来评估 LLM 响应与地面真相的一致性。</li>
</ol>
<p>这个框架的设计目标是通过逻辑推理和自动化测试，可靠地识别 LLM 生成的幻觉（hallucination），提高模型的准确性和可信度。</p>
<p><img src="/2024/11/30/Drowzee-Metamorphic-Testing-for-Fact-Conflicting-Hallucination-Detection-in-Large-Language-Models/image-20241130155801872.png" alt="image-20241130155801872"></p>
<h3 id="4-1-Factual-Knowledge-Extraction"><a href="#4-1-Factual-Knowledge-Extraction" class="headerlink" title="4.1 Factual Knowledge Extraction"></a><strong>4.1 Factual Knowledge Extraction</strong></h3><p>该步骤的目的是从输入的知识数据中提取基础事实，并将其转化为可以用于逻辑推理的三元组。具体过程如下：</p>
<ol>
<li><strong>知识数据库来源</strong>：<ul>
<li>现有的知识数据库（如Wikipedia）包含了大量文档和结构化数据，这些结构化数据适合用于构建事实知识。</li>
<li>提取的数据将作为测试框架的基础，确保数据来源的可靠性和全面性。</li>
</ul>
</li>
<li><strong>事实三元组结构</strong>：<ul>
<li>提取的事实以三元组形式表示：nm(s, o)，其中：<ul>
<li><code>s</code>（主语）和<code>o</code>（宾语）是实体。</li>
<li><code>nm</code>是谓词的名称，表示实体间的关系。</li>
</ul>
</li>
</ul>
</li>
<li><strong>实体和关系的分类</strong>：<ul>
<li>实体和关系的分类依据Wikipedia的标准分类（见图5），包括多个不同的实体类别和关系类别。</li>
<li><img src="/2024/11/30/Drowzee-Metamorphic-Testing-for-Fact-Conflicting-Hallucination-Detection-in-Large-Language-Models/image-20241130160048044.png" alt="image-20241130160048044"></li>
</ul>
</li>
<li><strong>提取过程的分步执行</strong>：<ul>
<li><strong>分而治之的策略</strong>：按类别分别提取实体和关系，避免一次性处理过多数据，提升效率。</li>
<li><strong>提取函数</strong>：通过<code>ExtractGroundFacts</code>函数，从数据库中查询实体和关系的组合，提取相关事实。</li>
<li><strong>查询数据库</strong>：使用<code>QueryDB</code>函数获取与特定谓词和实体组合对应的事实三元组。</li>
</ul>
</li>
<li><strong>实现步骤</strong>：<ul>
<li>通过算法1，系统将对每个实体和关系类别进行迭代处理，确保所有组合的事实都被提取出来。</li>
<li><img src="/2024/11/30/Drowzee-Metamorphic-Testing-for-Fact-Conflicting-Hallucination-Detection-in-Large-Language-Models/image-20241130160225661.png" alt="image-20241130160225661"></li>
</ul>
</li>
</ol>
<h3 id="4-2-Logical-Reasoning"><a href="#4-2-Logical-Reasoning" class="headerlink" title="4.2 Logical Reasoning"></a><strong>4.2 Logical Reasoning</strong></h3><p>该步骤的目标是从先前提取的事实知识中推导出更多的、丰富的信息。Drowzee利用基于逻辑编程的处理器，自动生成新的事实知识。具体过程如下：</p>
<ol>
<li><strong>推理规则</strong>：<ul>
<li>Drowzee设计了五种推理规则，以生成具有变异性的FCH测试用例。这些规则来源于多篇文献，广泛应用于知识推理的背景下。</li>
<li>规则的作用是通过输入一个或多个事实三元组，生成一个新的推导三元组。</li>
</ul>
</li>
<li><strong>五种推理规则</strong>：<ul>
<li><strong>规则#1：否定推理（Negation Reasoning）</strong>：<ul>
<li>给定事实三元组 <code>(s, nm, o)</code>，可以推导出该事实的否定三元组：<code>¬ nm(s, o)</code>。</li>
<li>示例：从 <code>(Haruki Murakami, won, the Nobel Prize in Literature in 2016)</code> 推导出其否定 <code>(Haruki Murakami, did not win, the Nobel Prize in Literature in 2016)</code>。</li>
</ul>
</li>
<li><strong>规则#2：对称推理（Symmetric Reasoning）</strong>：<ul>
<li>对于对称关系，如果三元组中的主语和宾语交换后仍保持一致，则可以推导出新三元组：<code>(o, nm, s)</code>。</li>
<li>示例：从 <code>(Haruki Murakami, different_from, Haruki Uemura)</code> 推导出 <code>(Haruki Uemura, different_from, Haruki Murakami)</code>。</li>
</ul>
</li>
<li><strong>规则#3：反向推理（Inverse Reasoning）</strong>：<ul>
<li>对于反向关系，主语和宾语可以通过原关系的反向变体来反向关联。</li>
<li>示例：从 <code>(Haruki Murakami, influence_by, Richard Brautigan)</code> 推导出 <code>(Richard Brautigan, influence, Haruki Murakami)</code>。</li>
</ul>
</li>
<li><strong>规则#4：传递推理（Transitive Reasoning）</strong>：<ul>
<li>对于传递关系，如果一个三元组的宾语是另一个三元组的主语，则可以推导出新三元组：<code>(s1, nm, o2)</code>。</li>
<li>示例：从 <code>(Haruki Murakami, locate_in, Kyoto)</code> 和 <code>(Kyoto, locate_in, Japan)</code> 推导出 <code>(Haruki Murakami, locate_in, Japan)</code>。</li>
</ul>
</li>
<li><strong>规则#5：复合推理（Composite Reasoning）</strong>：<ul>
<li>基础推理规则可以链式组合形成复合推理规则，通过多步推理生成新的知识。</li>
<li>示例：通过链式推理，多个规则可以协同生成新的复杂三元组。</li>
</ul>
</li>
</ul>
</li>
<li><strong>推理规则应用过程</strong>：<ul>
<li>使用算法2，将这些规则应用于前一步提取的事实三元组，自动生成新的推导事实。</li>
<li>通过Prolog引擎应用预定的推理规则，生成新的三元组，这些三元组用于后续的测试用例生成。</li>
<li><img src="/2024/11/30/Drowzee-Metamorphic-Testing-for-Fact-Conflicting-Hallucination-Detection-in-Large-Language-Models/image-20241130160631044.png" alt="image-20241130160631044"></li>
</ul>
</li>
</ol>
<h3 id="4-3-Benchmark-Construction"><a href="#4-3-Benchmark-Construction" class="headerlink" title="4.3 Benchmark Construction"></a><strong>4.3 Benchmark Construction</strong></h3><p>本模块描述了从推导出的三元组中构建问题-答案(Q&amp;A)对和提示的过程，以支持FCH的自动化测试。为了解决测试用例生成过程中高人力需求的问题，Drowzee采用了自动化生成测试用例-测试预期对的方法，基于实体之间的关系映射到问题模板，显著减少了人工依赖。</p>
<ol>
<li><strong>问题生成</strong>：<ul>
<li>使用实体关系映射到预定义的Q&amp;A模板，确保测试用例和提示的有效性和系统化。</li>
<li>根据谓词类型将不同关系类型映射到不同的提问模板，涵盖各种语法时态和表达需求。</li>
<li>对于难以描述的谓词，采用定制化模板生成有效的Q&amp;A对。</li>
<li>使用LLM优化Q&amp;A对的结构，提升问题的自然语言表达。</li>
</ul>
</li>
<li><strong>答案生成</strong>：<ul>
<li>基于三元组中的事实知识，自动生成答案。通过判断问题的真假来确定答案的正确性。</li>
<li>通过变异模板（使用同义词或反义词）增强问题的多样性。例如，将“Crohn’s disease and Huntington’s disease could share similar  symptoms”变为“Crohn’s disease and Huntington’s disease have totally  different symptoms”，并且相应的答案是反向的。</li>
<li><img src="/2024/11/30/Drowzee-Metamorphic-Testing-for-Fact-Conflicting-Hallucination-Detection-in-Large-Language-Models/image-20241130160923189.png" alt="image-20241130160923189"></li>
</ul>
</li>
<li><strong>提示构建</strong>：<ul>
<li>在与LLMs交互之前，预先定义具体的指令和提示，要求模型利用其内在的知识和推理能力，对问题进行明确的判断（如是&#x2F;否&#x2F;我不知道）。</li>
<li>指示模型在回答后呈现推理过程，确保LLMs的响应能够被标准化和有效评估。</li>
<li><img src="/2024/11/30/Drowzee-Metamorphic-Testing-for-Fact-Conflicting-Hallucination-Detection-in-Large-Language-Models/image-20241130160933350.png" alt="image-20241130160933350"></li>
</ul>
</li>
</ol>
<h3 id="4-4-Response-Evaluation"><a href="#4-4-Response-Evaluation" class="headerlink" title="4.4 Response Evaluation"></a><strong>4.4 Response Evaluation</strong></h3><p>本模块旨在提高FCH（虚假信息生成）在LLM（大型语言模型）输出中的检测精度，特别是关注LLM回应与经过验证的真实答案（Q&amp;A对）之间的差异。由于直接接受LLM的“是”或“否”回答可能存在不准确性，因此我们强调分析LLM的推理过程，这对准确判断事实一致性至关重要。</p>
<p>为了实现事实一致性的自动检测，我们的方法包括以下几个关键步骤：</p>
<ol>
<li><strong>初步筛选</strong>：首先，排除LLM无法提供答案的情况（例如“我不知道”），这些响应通常表示LLM缺乏相关知识，因此视为正确的、正常的响应。</li>
<li><strong>回应解析与语义结构构建</strong>：对于可疑的回答，使用提取三元组的功能从LLM的推理部分生成三元组。然后，通过构建图形表示的方式，将这些三元组转换为语义结构，其中实体为节点，关系为连接节点的边。同时，也会基于问题生成真实的三元组，并构建类似的语义结构。</li>
<li><strong>基于相似性的变形测试与神谕</strong>：我们应用变形关系（metamorphic  relations）进行LLM回应的错误检测，依据输入和输出之间的关系，而非依赖传统的标注数据。主要是通过比较LLM生成的语义结构与真实语义结构之间的相似性，识别并分类出虚假回答。具体分类包括：正确回应、由错误推理引起的虚假（EI）、由错误知识引起的虚假（EK）、以及两者兼有的虚假（OL）。<ul>
<li><strong>边向量变形神谕（MOE）</strong>：通过比较SSresp（LLM生成的语义结构）和SSground（真实语义结构）中的边向量的相似性。如果相似度低于预设的阈值，则检测到FCH。这里使用Jaccard相似度来计算边向量的相似度。</li>
<li><strong>节点向量变形神谕（MON）</strong>：通过比较SSresp和SSground中的节点向量的相似性进行检测，使用与MOE类似的方式，若节点相似度低于阈值，则认为LLM的回答与真实答案显著不同，从而检测到FCH。</li>
</ul>
</li>
</ol>
<p>整体而言，该模块通过自动化的推理过程解析与相似性测试，增强了LLM输出中的事实一致性检测能力，能够有效识别虚假信息生成。</p>
<h2 id="Evaluation"><a href="#Evaluation" class="headerlink" title="Evaluation"></a><strong>Evaluation</strong></h2><p>我们的评估针对以下研究问题：</p>
<ul>
<li><strong>RQ1（有效性）</strong>：Drowzee在识别LLM的FCH问题方面有多有效？该问题研究Drowzee在生成测试用例和识别LLM FCH问题中的有效性。</li>
<li><strong>RQ2（虚假信息分类与分析）</strong>：LLM的FCH问题如何分类？该问题对Drowzee识别的各种LLM FCH问题进行分类分析，并提供一些具体案例研究，包括与时间相关的FCH问题和与分布外数据知识相关的FCH问题。</li>
<li><strong>RQ3（与现有方法的比较）</strong>：Drowzee与现有方法在识别LLM FCH问题方面有何区别？该问题研究Drowzee是否在构建测试用例和识别LLM FCH问题方面优于现有的测试基准和方法。我们将对当前虚假信息检测方法的准确性与Drowzee进行定性分析和小规模定量分析。</li>
<li><strong>RQ4（消融研究）</strong>：四种逻辑推理规则是否能独立识别LLM的FCH问题？该问题探讨Drowzee的逻辑推理规则是否能有效独立地识别LLM的FCH问题。</li>
</ul>
<h3 id="5-1-Experimental-Setup"><a href="#5-1-Experimental-Setup" class="headerlink" title="5.1 Experimental Setup"></a><strong>5.1 Experimental Setup</strong></h3><ol>
<li><strong>知识提取</strong>：<ul>
<li>采用Wikipedia和Wikidata作为数据来源，通过下载最新的Wikipedia数据集，使用wikiextractor提取Wiki页面中的相关文本，同时利用Wikidata的SPARQL查询模块提取三元组。</li>
<li>经过简化和过滤处理，最终收集了包含54,483个实体和1,647,206个三元组的基础事实知识。</li>
</ul>
</li>
<li><strong>逻辑推理处理器</strong>：<ul>
<li>使用SWI-Prolog作为逻辑推理模块，处理大量事实插入时，通过采样方法避免因堆叠过多字符串而导致的错误。</li>
</ul>
</li>
<li><strong>测试模型</strong>：<ul>
<li>为了评估RQ1和RQ2的效果，选择了六个最新的LLM进行测试，分为两类：<ul>
<li><strong>封闭源模型</strong>：ChatGPT (gpt-3.5-turbo-0613) 和 GPT-4。</li>
<li><strong>开源LLM</strong>：Llama2-7B-chat-hf, Llama2-70B-chat-hf, Mistral-7B-Instruct-v0.2, 和 Mixtral-8x7B-Instruct-v0.1。</li>
</ul>
</li>
</ul>
</li>
<li><strong>模型配置</strong>：<ul>
<li>设置温度参数为0，确保输出稳定且保守；将top-p值设为0.9，并禁用top-k（设为0），筛选出更可能的词汇，提高生成结果的准确性。</li>
<li>通过随机选择40个测试用例进行5次实验，并使用Sentence-bert模型计算5次生成的响应之间的余弦相似度，验证响应的一致性，采用Friedman检验确认不同执行次数之间的差异不显著。</li>
</ul>
</li>
<li><strong>响应验证阈值（𝜃）</strong>：<ul>
<li>使用StanfordOpenIE提取LLM响应中的三元组，并使用Phrase-BERT计算节点和边的向量相似度。设置阈值为0.8，表示语义相似度超过该值的三元组视为等价。</li>
<li>通过分析270个测试用例，发现阈值0.8能有效检测出99.6%的虚假一致性（FCH）。</li>
</ul>
</li>
<li><strong>词语一致性</strong>：<ul>
<li>保持多个字典，确保实验中的对称关系词和同义词的一致性，以便准确验证LLM的响应。<font color="green">  (关系词是维护在字典里的，为了一致的)</font></li>
</ul>
</li>
<li><strong>运行环境</strong>：<ul>
<li>实验在一台运行Ubuntu 22.04的服务器上进行，配置包括64核AMD EPYC 7713处理器、512GB内存和两块NVIDIA A100 PCIe 80GB显卡，总共消耗了120 GPU小时。</li>
</ul>
</li>
</ol>
<h3 id="5-2-RQ1-Effectiveness"><a href="#5-2-RQ1-Effectiveness" class="headerlink" title="5.2 RQ1: Effectiveness"></a><strong>5.2 RQ1: Effectiveness</strong></h3><ol>
<li><strong>Drowzee的效果</strong>：<ul>
<li>为了评估Drowzee的效果，研究首先统计了由Drowzee生成的测试用例，并使用这些用例来识别LLM的虚假一致性问题（FCH）。通过评估不同知识领域的测试用例，研究进一步考察了LLM在这些领域中的表现。</li>
</ul>
</li>
<li><strong>Q&amp;A测试用例的生成效果</strong>：<ul>
<li>Drowzee被用于生成一个总计7,200个Q&amp;A测试用例的基准集合，涵盖了多个知识领域，旨在全面评估LLM在特定知识领域的FCH问题。</li>
</ul>
</li>
<li><strong>LLM间的效果差异</strong>：<ul>
<li>使用Drowzee生成的Q&amp;A对不同LLM进行测试，自动标注虚假一致性和正常响应。结果显示，不同LLM对相同问题会产生不同的虚假一致性。具体来说：<ul>
<li>GPT-4表现最好，虚假响应的比例最低，仅为24.7%。</li>
<li>ChatGPT稍逊，虚假响应比例为42.1%。</li>
<li>开源LLM中，参数较少的Llama2-7B-chat-hf和Mistral-7B-Instruct-v0.2表现较差，而参数较多的Llama2-70B-chat-hf和Mixtral-8x7B-Instruct-v0.1表现较好，虚假响应率低于ChatGPT。</li>
</ul>
</li>
</ul>
</li>
<li><strong>针对特定领域知识的效果</strong>：<ul>
<li>Drowzee的效果不仅体现在生成测试用例，还在于其在不同知识领域的表现。研究通过比较不同模型在九个特定领域中的虚假响应率，发现不同模型在各领域的表现差异：<ul>
<li><strong>自然科学与数学领域</strong>：在这些领域中，LLM通常表现较差，虚假响应率较高。这可能是因为这些领域涉及到大量的天体物理学或数学实体及其相互关系，LLM需要深入理解这些复杂的知识，而这些内容在其训练数据中可能覆盖较少，从而导致较高的虚假一致性率。</li>
</ul>
</li>
</ul>
</li>
</ol>
<p>总体而言，Drowzee成功地触发了LLM在需要逻辑推理的任务中的虚假响应，并有效地识别了LLM的FCH问题，特别是在某些知识领域中。</p>
<p><img src="/2024/11/30/Drowzee-Metamorphic-Testing-for-Fact-Conflicting-Hallucination-Detection-in-Large-Language-Models/image-20241130162129847.png" alt="image-20241130162129847"></p>
<p><strong>通过使用Drowzee进行评估，我们发现现有的LLM在面对逻辑推理挑战时，往往容易产生虚假一致性问题（FCH）。结果显示，不同的知识领域表现各异，尤其在回答需要高度专业化、领域特定知识的问题时，LLM更容易出现FCH。</strong></p>
<h3 id="5-3-RQ2-FCH-Categorization-and-Analysis"><a href="#5-3-RQ2-FCH-Categorization-and-Analysis" class="headerlink" title="5.3 RQ2: FCH Categorization and Analysis"></a><strong>5.3 RQ2: FCH Categorization and Analysis</strong></h3><h4 id="5-3-1-FCH-Categorization"><a href="#5-3-1-FCH-Categorization" class="headerlink" title="5.3.1 FCH Categorization."></a><em>5.3.1 FCH Categorization.</em></h4><p>我们对LLM的虚假一致性响应（FCH）进行了更详细的分类，主要聚焦于两种类型的幻觉：<strong>错误知识响应</strong> 和 <strong>错误推理响应</strong>。需要注意的是，对于因缺乏相关知识而拒绝回答（如“我不知道”）的情况，我们视其为LLM遵循诚实与真实原则，因此将其归类为正常响应。为了确保分类公正无偏，我们<strong>随机选择了100个</strong>与幻觉相关的响应，由三位共同作者独立分类，并讨论达成共识。</p>
<ul>
<li><strong>错误知识响应</strong>：指LLM在推理过程中使用了错误的或上下文不恰当的知识。</li>
<li><strong>错误推理响应</strong>：最常见的类型，通常与LLM缺乏推理能力和推理过程中的缺陷有关。</li>
<li><img src="/2024/11/30/Drowzee-Metamorphic-Testing-for-Fact-Conflicting-Hallucination-Detection-in-Large-Language-Models/image-20241130162408320.png" alt="image-20241130162408320" style="zoom:50%;"></li>
</ul>
<h4 id="5-3-2-Hallucination-Measurement"><a href="#5-3-2-Hallucination-Measurement" class="headerlink" title="5.3.2 Hallucination Measurement."></a><em>5.3.2 Hallucination Measurement.</em></h4><p>幻觉的分类结果显示，错误推理幻觉是最常见的，占所有结果的50%。这表明LLM在逻辑推理任务中，推理能力不足是产生FCH问题的主要原因。同时，错误知识导致的幻觉问题占到了约40%。此外，错误知识和错误推理之间存在一定的重叠，约为8%-21%。</p>
<h4 id="5-3-3-Case-Study"><a href="#5-3-3-Case-Study" class="headerlink" title="5.3.3 Case Study."></a><em>5.3.3 Case Study.</em></h4><p>我们进一步分析了逻辑推理相关的FCH，并提供了两个典型的案例：</p>
<ul>
<li><p><strong>错误推理幻觉</strong>：时间相关的推理任务是LLM表现较差的任务之一。实验表明，LLM在面对时间推理问题时，缺乏敏感性和顺序逻辑的识别能力，从而导致错误推理幻觉。</p>
</li>
<li><img src="/2024/11/30/Drowzee-Metamorphic-Testing-for-Fact-Conflicting-Hallucination-Detection-in-Large-Language-Models/image-20241130162542525.png" alt="image-20241130162542525" style="zoom:67%;">

<p><strong>发现1</strong>：LLM在处理时间信息的敏感性较差，推理能力不足，容易产生错误推理幻觉。</p>
</li>
<li><p><strong>错误知识幻觉</strong>：例如，当LLM处理有关历史人物（如俄国将军卡尔比舍夫 Figure 9）的问题时，由于缺乏相关知识，LLM可能会编造错误的知识和来源，产生错误的响应。我们还进行了基于外部数据（OOD）知识的实验，发现LLM对未知或最新信息（如近期的灾难事件 Figure 10）缺乏准确处理能力，容易引发错误知识幻觉。</p>
</li>
<li><img src="/2024/11/30/Drowzee-Metamorphic-Testing-for-Fact-Conflicting-Hallucination-Detection-in-Large-Language-Models/image-20241130162714700.png" alt="image-20241130162714700" style="zoom:67%;">
</li>
<li><img src="/2024/11/30/Drowzee-Metamorphic-Testing-for-Fact-Conflicting-Hallucination-Detection-in-Large-Language-Models/image-20241130162742166.png" alt="image-20241130162742166" style="zoom:67%;">

<p><strong>发现2</strong>：LLM在处理误导性或不熟悉的知识时，容易做出错误的假设，导致错误知识幻觉的发生。</p>
</li>
</ul>
<p><strong>检测到的FCH可以分为两种类型，推理能力的不足比使用错误知识或不充分的推理策略构成更广泛的威胁。</strong></p>
<h3 id="5-4-RQ3-Comparison-with-Existing-Works"><a href="#5-4-RQ3-Comparison-with-Existing-Works" class="headerlink" title="5.4 RQ3: Comparison with Existing Works"></a><strong>5.4 RQ3: Comparison with Existing Works</strong></h3><h4 id="5-4-1-Qualitative-Analysis"><a href="#5-4-1-Qualitative-Analysis" class="headerlink" title="5.4.1 Qualitative Analysis."></a><em>5.4.1 Qualitative Analysis.</em></h4><ul>
<li><strong>任务构建方法</strong>:<ol>
<li>现有方法:<ul>
<li><strong>TruthfulQA</strong>、<strong>HaluEval</strong>依赖人工注释来构建Q&amp;A对，且部分使用半自动生成方法（如HaluEval）。</li>
<li><strong>KoLA</strong>主要使用现有的Q&amp;A数据集，没有太多自动化生成。</li>
<li>这些方法在人力资源上消耗较大。</li>
</ul>
</li>
<li>Drowzee:<ul>
<li>利用<strong>Prolog辅助自动推理</strong>生成新知识三元组和问题模板。</li>
<li>实现了<strong>任务构建的最大自动化</strong>，且保证问题的复杂性。</li>
</ul>
</li>
</ol>
</li>
<li><strong>响应评估指标</strong>:<ol>
<li>TruthfulQA:<ul>
<li>使用<strong>人类注释指南</strong>验证答案，依据可靠来源来检查答案的真伪。</li>
<li>采用<strong>基于模型的评估方法</strong>，通过细调的GPT-3来判断答案的真伪，并计算真确率。</li>
</ul>
</li>
<li>KoLA 和 HaluEval:<ul>
<li>使用<strong>准确性</strong>来评估回答与提供知识之间的字符匹配率。</li>
</ul>
</li>
<li>FActScore:<ul>
<li>评估生成文本的真实性，分解生成内容为一系列原子事实，并计算这些事实是否能够从可靠知识来源中检索到。</li>
</ul>
</li>
<li>Drowzee:<ul>
<li>采用<strong>结构相似性</strong>评估LLM回答与原始知识三元组及推理过程的匹配度，优于简单的字符匹配和真确率评估。</li>
</ul>
</li>
</ol>
</li>
<li><strong>自然语言推理基准</strong>:<ol>
<li>FOLIO:<ul>
<li>人工专家注释的<strong>一阶逻辑</strong>（FOL）数据集，用于测试生成型语言模型的演绎推理能力。</li>
</ul>
</li>
<li>DEER:<ul>
<li>关注<strong>归纳推理</strong>，通过自然语言事实引导语言模型推导规则，测试归纳推理能力。</li>
</ul>
</li>
<li>Drowzee:<ul>
<li>重点在于<strong>实际世界知识的推理</strong>，涵盖大量更具体、更精确的事实信息。</li>
</ul>
</li>
</ol>
</li>
</ul>
<img src="/2024/11/30/Drowzee-Metamorphic-Testing-for-Fact-Conflicting-Hallucination-Detection-in-Large-Language-Models/image-20241130163430578.png" alt="image-20241130163430578" style="zoom: 67%;">



<h4 id="5-4-2-Small-scale-Quantitative-Analysis"><a href="#5-4-2-Small-scale-Quantitative-Analysis" class="headerlink" title="5.4.2 Small-scale Quantitative Analysis."></a><em>5.4.2 Small-scale Quantitative Analysis.</em></h4><p>为了评估 <strong>Drowzee</strong> 在检测准确性方面相较于现有方法的表现，我们使用一组已经人工验证的100个测试案例进行小规模定量分析。该比较的成功率结果汇总在 <strong>表3</strong> 的最后一列中。</p>
<ul>
<li><strong>比较方法</strong>:<ol>
<li>Drowzee 与 FActScore:<ul>
<li>两者在FCH检测的准确率上表现优秀，尤其是在<strong>分解事实</strong>和<strong>推理基础评估</strong>上。</li>
</ul>
</li>
<li>TruthfulQA:<ul>
<li>依赖LLM本身评估输出，表现中等，准确率稍低，受限于生成模型评估自身输出的局限性。</li>
</ul>
</li>
<li>KoLA 和 HaluEval :<ul>
<li>仅依赖<strong>字符串匹配</strong>与知识库，精度较低，无法深刻理解语义，主要局限于语法匹配。</li>
</ul>
</li>
</ol>
</li>
<li><strong>结论</strong>:<ol>
<li>Drowzee的优势:<ul>
<li>提供了更<strong>可靠</strong>、<strong>可扩展</strong>的FCH检测方法。</li>
<li>相较于其他方法，<strong>Drowzee</strong>能够在大规模检测中提供更高的精度和可靠性。</li>
</ul>
</li>
</ol>
</li>
</ul>
<p><strong>与现有基准和FCH评估方法相比，Drowzee 展现出更高的自动化水平、更准确的检测能力以及更强的可扩展性。</strong></p>
<h3 id="5-5-RQ4-Ablation-Study"><a href="#5-5-RQ4-Ablation-Study" class="headerlink" title="5.5 RQ4: Ablation Study"></a><strong>5.5 RQ4: Ablation Study</strong></h3><ol>
<li><strong>研究目的</strong>：<ul>
<li>通过消融实验，评估每种推理规则（详见4.2节）单独触发FCH（事实冲突型幻觉）的能力。</li>
<li>排除对称推理规则（对称性主要在组合推理中使用，不单独生成新知识）。</li>
</ul>
</li>
<li><strong>实验方法</strong>：<ul>
<li>各推理规则（否定推理、逆向推理、传递推理、组合推理）分别用于生成Q&amp;A测试用例。</li>
<li>对六个LLM（大型语言模型）进行测试，统计其触发的FCH数量。</li>
</ul>
</li>
<li><strong>结果展示</strong>：<ul>
<li>图表显示了不同推理规则生成的问题在触发FCH方面的效果：<ul>
<li><strong>传递推理规则</strong>：触发最多的FCH，是最有效的规则。</li>
<li><strong>组合推理规则</strong>：紧随其后，尤其在“人物”和“历史”领域表现显著。</li>
<li>其他规则（否定推理和逆向推理）在各领域也展示了一定的效果。</li>
</ul>
</li>
</ul>
</li>
<li><strong>结论</strong>：<ul>
<li>所有推理规则在生成FCH测试用例和引发LLM幻觉响应方面均展现出有效性。</li>
<li>不同推理规则适用于不同知识领域，表现出独特的优势和效果。</li>
</ul>
</li>
</ol>
<img src="/2024/11/30/Drowzee-Metamorphic-Testing-for-Fact-Conflicting-Hallucination-Detection-in-Large-Language-Models/image-20241130163541917.png" alt="image-20241130163541917" style="zoom: 67%;">



<p><strong>实验结果表明，四种推理规则在触发事实冲突型幻觉（FCH）方面具有独立性，其中 传递推理规则 在各个领域触发了最多的FCH，证明其在生成测试用例方面是一种可靠的方法。</strong></p>
<h2 id="Discussion"><a href="#Discussion" class="headerlink" title="Discussion"></a><strong>Discussion</strong></h2><h3 id="6-1-Threats-to-Validity"><a href="#6-1-Threats-to-Validity" class="headerlink" title="6.1 Threats to Validity"></a><strong>6.1 Threats to Validity</strong></h3><ol>
<li><strong>知识库覆盖范围有限</strong><ul>
<li>本研究主要利用维基百科数据通过Drowzee生成测试用例，但Drowzee的设计具备高度可扩展性，可以适配其他知识库，从而提高适用性和多样性。</li>
</ul>
</li>
<li><strong>幻觉分类准确性有限</strong><ul>
<li>分类方法结合了GPT-4的初步分类和人工验证。GPT-4的分类准确率约为71%。</li>
<li>尽管总体分类效果较为可靠，但仍存在改进空间，如通过提示工程提高分类准确性。</li>
<li>进一步优化分类技术超出了本研究的范畴。</li>
</ul>
</li>
</ol>
<h3 id="6-2-Mitigation"><a href="#6-2-Mitigation" class="headerlink" title="6.2 Mitigation"></a><strong>6.2 Mitigation</strong></h3><ol>
<li><p><strong>模型编辑技术的应用</strong></p>
<ul>
<li><p><strong>目标</strong>：通过模型编辑技术更新和优化现有大语言模型（LLMs），无需完全重新训练，减轻FCH（事实冲突型幻觉）问题。</p>
</li>
<li><p>方法</p>
<p>：采用两种模型编辑算法：</p>
<ul>
<li>ROME 和 MEMIT：用于将推理获得的新知识整合到开源LLMs中。</li>
<li>FastEdit 和 EasyEdit：提供更快速的实现。</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>实验结果</strong></p>
<ul>
<li>当编辑知识范围约为150条时，编辑后的模型在回答与新推理知识相关的问题时表现出显著改进。</li>
<li>当编辑条目数量超过1000时，模型可能生成大量无意义的响应，导致性能下降。</li>
</ul>
</li>
<li><p><strong>挑战与启示</strong></p>
<ul>
<li>解决逻辑推理中的幻觉问题是一个复杂的任务，需要进一步探索。</li>
<li>在减少FCH的同时保持模型固有能力的平衡是关键问题。</li>
</ul>
</li>
<li><p><strong>结论</strong></p>
<ul>
<li>模型编辑技术为缓解LLMs的FCH问题提供了一种潜在的探索性和有前景的解决方案。</li>
</ul>
</li>
</ol>
<h3 id="6-3-Takeaway-Messages"><a href="#6-3-Takeaway-Messages" class="headerlink" title="6.3 Takeaway Messages"></a><strong>6.3 Takeaway Messages</strong></h3><ol>
<li><strong>提升LLM的诚实性</strong><ul>
<li>在LLM训练过程中，需要注重提升模型的<strong>诚实性</strong>，包括增强模型的<strong>批判性思维</strong>和<strong>逻辑推理能力</strong>。</li>
<li>这一方向可能为解决幻觉问题提供一种有效途径。</li>
</ul>
</li>
<li><strong>深入理解LLM幻觉问题</strong><ul>
<li>基于本研究的发现，应进一步探索通过<strong>白盒方法</strong>理解LLM幻觉问题的深层原因。</li>
<li>增强和扩展LLM的<strong>逻辑推理能力</strong>被认为是减少幻觉问题的一条有前景的途径。</li>
</ul>
</li>
</ol>
<h2 id="Related-Work"><a href="#Related-Work" class="headerlink" title="Related Work"></a><strong>Related Work</strong></h2><h3 id="7-1-Evaluating-Hallucination-in-Large-Language-Models"><a href="#7-1-Evaluating-Hallucination-in-Large-Language-Models" class="headerlink" title="7.1 Evaluating Hallucination in Large Language Models"></a><strong>7.1 Evaluating Hallucination in Large Language Models</strong></h3><ol>
<li><strong>TruthfulQA</strong><ul>
<li>经典数据集，用于评估语言模型在生成回答时是否保持真实。</li>
<li>测试模型是否因模仿人类文本而学习到错误答案。</li>
</ul>
</li>
<li><strong>HaluEval</strong><ul>
<li>从HotpotQA、OpenDialKG和CNN&#x2F;DailyMail训练集中采样10K实例，通过任务设置和特定采样策略生成与幻觉相关的样本。</li>
<li>主要面向问答任务和文本摘要任务。</li>
</ul>
</li>
<li><strong>KoLA</strong><ul>
<li>专注于知识图谱领域的幻觉问题，基于19个实体、概念和事件创建任务。</li>
<li>测试模型在<strong>记忆、理解、应用和创造</strong>四个层次处理结构化知识的能力。</li>
</ul>
</li>
<li><strong>BAMBOO 和 FActScore</strong><ul>
<li>针对长文本生成场景，评估模型在处理长上下文时的表现。</li>
<li>通过事实验证测试模型在扩展上下文中的能力。</li>
</ul>
</li>
<li><strong>特定领域评估</strong><ul>
<li>例如医疗和金融领域，专门评估LLMs在这些专业场景中的幻觉问题。</li>
</ul>
</li>
</ol>
<h3 id="7-2-Mitigating-Hallucination-in-Large-Language-Models"><a href="#7-2-Mitigating-Hallucination-in-Large-Language-Models" class="headerlink" title="7.2 Mitigating Hallucination in Large Language Models"></a><strong>7.2 Mitigating Hallucination in Large Language Models</strong></h3><ol>
<li><strong>黑箱提示引导和外部知识整合</strong><ul>
<li><strong>提示优化</strong>：通过外部知识检索或自动反馈调整，使模型生成的文本更可控且更可靠。</li>
<li><strong>多模态方法</strong>：例如Woodpecker通过提取关键概念生成问题和知识断言，用于诊断和缓解幻觉。</li>
</ul>
</li>
<li><strong>微调技术</strong><ul>
<li><strong>数据驱动微调</strong>：使用高质量数据进行微调（如AlpaGasus和相关研究）以提高模型的准确性和真实性。</li>
<li><strong>知识注入</strong>：增强模型对复杂知识的掌握，特别适用于较弱的语言模型。</li>
</ul>
</li>
<li><strong>白箱修复方法</strong><ul>
<li><strong>内部状态分析</strong>：通过分析模型的内部状态（如Azaria等人的研究）判断语句真实性，揭示幻觉的根本原因。</li>
<li><strong>深层信息挖掘</strong>：研究如IIT和Repr深入模型的深层状态以减轻幻觉，同时提高模型的可解释性和可信度。</li>
</ul>
</li>
</ol>
<p><strong>未来方向：</strong><br>结合多种策略，加强模型在推理和事实生成方面的可靠性，同时推动解释性和可信人工智能的研究。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://example.com">Lin Li</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2024/11/30/Drowzee-Metamorphic-Testing-for-Fact-Conflicting-Hallucination-Detection-in-Large-Language-Models/">http://example.com/2024/11/30/Drowzee-Metamorphic-Testing-for-Fact-Conflicting-Hallucination-Detection-in-Large-Language-Models/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">LinLi's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/">论文阅读</a></div><div class="post_share"><div class="social-share" data-image="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/12/02/ClDiff-Generating-Concise-Linked-Code-Differences/" title="ClDiff: Generating Concise Linked Code Differences"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">ClDiff: Generating Concise Linked Code Differences</div></div></a></div><div class="next-post pull-right"><a href="/2024/11/29/Vision-Identifying-Affected-Library-Versions-for-Open-Source-Software-Vulnerabilities/" title="Vision: Identifying Affected Library Versions for Open Source Software Vulnerabilities"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Vision: Identifying Affected Library Versions for Open Source Software Vulnerabilities</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2023/03/04/PLUMBER/" title="PLUMBER"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-04</div><div class="title">PLUMBER</div></div></a></div><div><a href="/2023/03/08/%E9%80%9A%E8%BF%87NPM%E7%94%9F%E6%80%81%E7%B3%BB%E7%BB%9F%E7%9A%84%E4%BE%9D%E8%B5%96%E6%A0%91%E6%8F%AD%E5%BC%80%E8%84%86%E5%BC%B1%E6%80%A7%E4%BC%A0%E6%92%AD%E5%8F%8A%E5%85%B6%E6%BC%94%E5%8C%96%E7%9A%84%E7%A5%9E%E7%A7%98%E9%9D%A2%E7%BA%B1/" title="通过NPM生态系统的依赖树揭开脆弱性传播及其演化的神秘面纱"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-08</div><div class="title">通过NPM生态系统的依赖树揭开脆弱性传播及其演化的神秘面纱</div></div></a></div><div><a href="/2023/04/03/Flexible-and-Optimal-Dependency-Management-via-Max-SMT/" title="Flexible and Optimal Dependency Management via Max-SMT"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-04-03</div><div class="title">Flexible and Optimal Dependency Management via Max-SMT</div></div></a></div><div><a href="/2023/04/11/What-the-Fork-Finding-Hidden-Code-Clones-in-npm/" title="What the Fork Finding Hidden Code Clones in npm"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-04-11</div><div class="title">What the Fork Finding Hidden Code Clones in npm</div></div></a></div><div><a href="/2023/04/12/Static-Type-Inference-for-Foreign-Functions-of-Python/" title="Static Type Inference for Foreign Functions of Python"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-04-12</div><div class="title">Static Type Inference for Foreign Functions of Python</div></div></a></div><div><a href="/2023/04/13/Where-to-Start-Studying-Type-Annotation-Practices-in-Python/" title="Where to Start Studying Type Annotation Practices in Python"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-04-13</div><div class="title">Where to Start Studying Type Annotation Practices in Python</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Lin Li</div><div class="author-info__description">今日事，今日毕</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">114</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">6</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Drowzee-Metamorphic-Testing-for-Fact-Conflicting-Hallucination-Detection-in-Large-Language-Models"><span class="toc-number">1.</span> <span class="toc-text">Drowzee: Metamorphic Testing for Fact-Conflicting Hallucination Detection in Large Language Models</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ABSTRACT"><span class="toc-number">1.1.</span> <span class="toc-text">ABSTRACT</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Introduction"><span class="toc-number">1.2.</span> <span class="toc-text">Introduction</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Background"><span class="toc-number">1.3.</span> <span class="toc-text">Background</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-Hallucination-Categorization"><span class="toc-number">1.3.1.</span> <span class="toc-text">2.1 Hallucination Categorization</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-Logic-Programming"><span class="toc-number">1.3.2.</span> <span class="toc-text">2.2 Logic Programming</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Motivating-Example"><span class="toc-number">1.4.</span> <span class="toc-text">Motivating Example</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Methodology"><span class="toc-number">1.5.</span> <span class="toc-text">Methodology</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-Factual-Knowledge-Extraction"><span class="toc-number">1.5.1.</span> <span class="toc-text">4.1 Factual Knowledge Extraction</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-Logical-Reasoning"><span class="toc-number">1.5.2.</span> <span class="toc-text">4.2 Logical Reasoning</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-Benchmark-Construction"><span class="toc-number">1.5.3.</span> <span class="toc-text">4.3 Benchmark Construction</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-Response-Evaluation"><span class="toc-number">1.5.4.</span> <span class="toc-text">4.4 Response Evaluation</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Evaluation"><span class="toc-number">1.6.</span> <span class="toc-text">Evaluation</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-Experimental-Setup"><span class="toc-number">1.6.1.</span> <span class="toc-text">5.1 Experimental Setup</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-RQ1-Effectiveness"><span class="toc-number">1.6.2.</span> <span class="toc-text">5.2 RQ1: Effectiveness</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-RQ2-FCH-Categorization-and-Analysis"><span class="toc-number">1.6.3.</span> <span class="toc-text">5.3 RQ2: FCH Categorization and Analysis</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-3-1-FCH-Categorization"><span class="toc-number">1.6.3.1.</span> <span class="toc-text">5.3.1 FCH Categorization.</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-3-2-Hallucination-Measurement"><span class="toc-number">1.6.3.2.</span> <span class="toc-text">5.3.2 Hallucination Measurement.</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-3-3-Case-Study"><span class="toc-number">1.6.3.3.</span> <span class="toc-text">5.3.3 Case Study.</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-RQ3-Comparison-with-Existing-Works"><span class="toc-number">1.6.4.</span> <span class="toc-text">5.4 RQ3: Comparison with Existing Works</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-4-1-Qualitative-Analysis"><span class="toc-number">1.6.4.1.</span> <span class="toc-text">5.4.1 Qualitative Analysis.</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-4-2-Small-scale-Quantitative-Analysis"><span class="toc-number">1.6.4.2.</span> <span class="toc-text">5.4.2 Small-scale Quantitative Analysis.</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-RQ4-Ablation-Study"><span class="toc-number">1.6.5.</span> <span class="toc-text">5.5 RQ4: Ablation Study</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Discussion"><span class="toc-number">1.7.</span> <span class="toc-text">Discussion</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-Threats-to-Validity"><span class="toc-number">1.7.1.</span> <span class="toc-text">6.1 Threats to Validity</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-Mitigation"><span class="toc-number">1.7.2.</span> <span class="toc-text">6.2 Mitigation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-Takeaway-Messages"><span class="toc-number">1.7.3.</span> <span class="toc-text">6.3 Takeaway Messages</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Related-Work"><span class="toc-number">1.8.</span> <span class="toc-text">Related Work</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-Evaluating-Hallucination-in-Large-Language-Models"><span class="toc-number">1.8.1.</span> <span class="toc-text">7.1 Evaluating Hallucination in Large Language Models</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-Mitigating-Hallucination-in-Large-Language-Models"><span class="toc-number">1.8.2.</span> <span class="toc-text">7.2 Mitigating Hallucination in Large Language Models</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/01/12/Teaching-Code-LLMs-to-Use-Autocompletion-Tools-in-Repository-Level-Code-Generation/" title="Teaching Code LLMs to Use Autocompletion Tools in Repository-Level Code Generation">Teaching Code LLMs to Use Autocompletion Tools in Repository-Level Code Generation</a><time datetime="2025-01-12T10:28:21.000Z" title="发表于 2025-01-12 18:28:21">2025-01-12</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/12/27/Explaining-Structured-Queries-in-Natural-Language/" title="Explaining Structured Queries in Natural Language">Explaining Structured Queries in Natural Language</a><time datetime="2024-12-27T09:15:17.000Z" title="发表于 2024-12-27 17:15:17">2024-12-27</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/12/24/Fuzzing-JavaScript-Interpreters-with-Coverage-Guided-Reinforcement-Learning-for-LLM-Based-Mutation/" title="Fuzzing JavaScript Interpreters with Coverage-Guided Reinforcement Learning for LLM-Based Mutation">Fuzzing JavaScript Interpreters with Coverage-Guided Reinforcement Learning for LLM-Based Mutation</a><time datetime="2024-12-24T10:16:03.000Z" title="发表于 2024-12-24 18:16:03">2024-12-24</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/12/15/Finding-Logic-Bugs-in-Spatial-Database-Engines-via-Affine-Equivalent-Inputs/" title="Finding Logic Bugs in Spatial Database Engines via  Affine Equivalent Inputs">Finding Logic Bugs in Spatial Database Engines via  Affine Equivalent Inputs</a><time datetime="2024-12-15T08:36:36.000Z" title="发表于 2024-12-15 16:36:36">2024-12-15</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/12/02/ClDiff-Generating-Concise-Linked-Code-Differences/" title="ClDiff: Generating Concise Linked Code Differences">ClDiff: Generating Concise Linked Code Differences</a><time datetime="2024-12-02T02:37:55.000Z" title="发表于 2024-12-02 10:37:55">2024-12-02</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2025 By Lin Li</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>